{% extends 'base.html' %} {% load static %} {% block content %}
<div class="flex flex-col justify-center">
            <div class="flex flex-col ml-auto mr-auto max-w-[90%] w-full justify-center">
                <div class="flex flex-row gap-2 pt-[5px]">
                    <div class="flex flex-col max-w-[1040px] w-full h-auto shadow-[0px_4px_4px_0px_#0000001A] bg-white mt-3 p-4 rounded-[16px]">
                        <div class="flex flex-row w-full gap-3 h-auto pb-3 border-b-2 border-[#EFEFEF] items-center">
                            <a href="{% url 'news:index' %}" class="h-[29px] flex justify-center">
                                <img class="w-[29px]" src="{% static 'img/_src/icons/Frame 115.svg' %}">
                            </a>
                            <div class="flex flex-col ">
                                <text class="font-[700] text-[20px]">Новости</text>
                                <text class="font-[500] text-[12px]">Будь в курсе последних событий в сфере ОТ и ТБ — мы собираем и обновляем
                                    новости из более чем 100 проверенных источников.</text>
                            </div>
                        </div>
                        <div class="flex flex-col w-full h-auto p-2">
                            <div class="main-news flex flex-col gap-4 pt-[10px]">
                                  {% for category in categories %}
                                        <div class="flex flex-col gap-4 pb-[16px]">
                                            <div class="flex flex-row justify-between">
                                                <h2 class="text-lg font-bold text-[22px]">{{ category.title }}</h2>
                                                <a href="" class="bg-[#AF1E2A] text-white rounded-[16px] pl-3 pr-3 pt-2 pb-2 flex justify-center items-center text-[10px]">Больше</a>
                                            </div>
                                                  {% for article in category.category_article.all %}
                                                        <a href="{% url 'news:news_detail' article.alias %}">
                                                            <div class="flex flex-col gap-4 border-b-1 border-[#EFEFEF] pb-[16px]">
                                                                <div>
                                                                    <div class="text-[12px] text-[#3F8CFF] font-[400]">Сегодня</div>
                                                                    <div class="flex flex-row gap-4">
                                                                        <img class="flex h-auto pt-1 w-[140px]" src="{{ article.image.path }}">
                                                                        <div class="flex flex-col w-full">
                                                                            <div class=" text-[16px] text-[#000000] w-full font-[700] leading-6 ">{{ article.title }}</div>
                                                                            <div class=" text-[11px] pt-[4px] w-full text-[#787878] font-[400] leading-4 mt-[5px]">{{article.description}}</div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="flex flex-row justify-between">
                                                                    <div class="text-[14px] text-[#ED1A39] font-medium flex w-full gap-2">
                                                                        <img class="w-[24px]" src="{% static 'img/_src/icons/sell.svg' %}">
                                                                        {% for tags in article.tags.all %}
                                                                        <div class="flex justify-center items-center font-[400] h-[29px] pl-3 pr-3 text-[12px] text-[#444444] bg-[#EAF4FF] rounded-[8px]">{{ tags.title }}</div>
                                                                        {% empty %}
                                                                        <div class="text-gray-400">Без категории</div>
                                                                        {% endfor %}
                                                                    </div>
                                                                    <div class="text-nowrap flex justify-center items-center text-[12px] text-[#444444]">{{ article.published_date|date:"d.m.Y" }}</div>
                                                                </div>
                                                            </div>
                                                        </a>
                                                    {% empty %}
                                                    <p>Нет новостей.</p>
                                                  {% endfor %}
                                        </div>
                              {% endfor %}
                            </div>
                        </div>
                    </div>
                    <div class="flex flex-col">
                        <div class="flex flex-col max-w-[343px] w-full h-auto shadow-[0px_4px_4px_0px_#0000001A] bg-white mt-3 p-4 rounded-[16px]">
                            <div class="flex flex-row justify-between w-full gap-[64px] h-[67px] border-b-2 border-[#EFEFEF]">
                                <div class="flex flex-col ">
                                    <text class="font-[700] text-[20px]">Еженедельный дайджест новостей</text>
                                </div>
                            </div>
                            <div class="flex flex-col w-full h-auto p-2">
                            <div class="main-news flex flex-col gap-4 pt-[10px]">
                                {% for article in articles %}
                                <a href="{% url 'news:news_detail' article.alias %}">
                                            <div class="flex flex-col gap-4 border-b-1 border-[#EFEFEF] pb-[16px]">
                                                <div>
                                                    <img class="flex h-auto pt-1 w-auto" src="{{ article.image.path }}">
                                                    <div class="flex flex-row gap-4">
                                                        <div class="flex flex-col w-full">
                                                            <div class=" text-[16px] text-[#000000] w-full font-[700] leading-6 ">{{ article.title }}</div>
                                                            <div class=" text-[11px] pt-[4px] w-full text-[#787878] font-[400] leading-4 mt-[5px]">{{ article.description|truncatewords:15 }}</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="flex flex-row justify-between">
                                                    <div class="text-[14px] text-[#ED1A39] font-medium flex flex-wrap w-full gap-2">
                                                        <img class="w-[24px]" src="{% static 'img/_src/icons/sell.svg' %}">
                                                        {% for tags in article.tags.all %}
                                                        <div class="flex justify-center items-center font-[400] h-[29px] pl-3 pr-3 text-[12px] text-[#444444] bg-[#EAF4FF] rounded-[8px]">{{ tags.title }}</div>
                                                        {% empty %}
                                                        <div class="text-gray-400">Без категории</div>
                                                        {% endfor %}
                                                    </div>
                                                    <div class="text-nowrap flex justify-center items-center text-[12px] text-[#444444]">{{ article.published_date|date:"d.m.Y" }}</div>
                                                </div>
                                            </div>
                                    </a>
                                    {% endfor %}
                            </div>
                        </div>
                        </div>
                    </div>
                </div>
            </div>
      </div>
{% endblock %}
