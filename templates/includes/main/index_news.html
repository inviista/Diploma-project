{% load static %}
<div class="flex flex-col w-full h-auto shadow-[0px_4px_4px_0px_#0000001A] bg-white mt-3 p-4 rounded-[16px]">
    <div class="flex flex-col w-full border-b-3 border-[#EFEFEF] pb-3">
        <div class="flex justify-between">
            <h2 class="font-bold text-2xl">Новости</h2>

            <a href="{% url 'news:all_news' %}" class="w-[36px] h-fit">
                <img src="{% static 'img/_src/icons/Frame 58 (6).png' %}" alt="all">
            </a>
        </div>
        <p class="font-[500] max-md:text-sm">Будь в курсе последних событий в сфере ОТ и ТБ — мы собираем и обновляем
            <br>
            новости из более чем 100 проверенных источников.
        </p>
    </div>
    <div class="flex flex-col w-full h-auto p-2">
        <div class="main-news flex flex-col gap-4 pt-[10px]">
            {% for article in articles|slice:":10" %}
                <a href="{% url 'news:news_detail' article.alias %}"
                   class="flex flex-col gap-4 border-b-1 border-[#EFEFEF] pb-[16px]">
                    <div>
                        {% if article.published_date|date:"Y-m-d" == today|date:"Y-m-d" %}
                        <div class="text-[12px] text-[#3F8CFF] font-[400]">Сегодня</div>
                         {% endif %}
                        <div class="flex items-start max-md:flex-col gap-4">
                            {% if article.image.path %}
                                <img class="pt-1 w-[150px]"
                                     src="{{ article.image.path }}" alt="new photo">
                            {% elif article.image.new_image_150_webp %}
                                <img class="pt-1 w-[150px]"
                                     src="{{ article.image.new_image_150_webp }}"
                                     alt="{{ article.image.alt }}">
                            {% endif %}
                            <div class="flex flex-col w-full">
                                <div class=" text-[20px] text-[#000000] w-full font-[700] leading-6 max-w-[566px]">{{ article.title }}</div>
                                <div class=" text-sm pt-[4px] w-full text-[#787878] max-w-[566px] mt-[5px]">{{ article.description }}</div>
                            </div>
                        </div>
                    </div>
                    <div class="flex max-lg:flex-col justify-between gap-4">
                        <div class="text-sm text-[#ED1A39] font-medium flex w-full gap-2 overflow-x-auto">
                            <img class="w-[24px]" src="{% static 'img/_src/icons/sell.svg' %}" alt="tags">
                            {% for tags in article.tags.all %}
                                <div class="flex justify-center items-center px-4 py-2 text-sm text-nowrap text-[#444444] bg-[#EAF4FF] rounded-[8px] max-lg:order-last">{{ tags.title }}</div>
                            {% empty %}
                                <div class="text-gray-400">Без категории</div>
                            {% endfor %}
                        </div>
                        <div class="text-nowrap flex justify-end lg:justify-center items-center text-[14px] text-[#444444] max-lg:order-first">{{ article.published_date|date:"d.m.Y" }}</div>
                    </div>
                </a>
            {% endfor %}
        </div>
    </div>
</div>